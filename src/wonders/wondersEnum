package wonders;

import effects.*;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public enum Wonders{

    ALEXANDRIA_A(new WondersBuilder("Alexandria", EffectFactory.create("Good", "Glass"), "WondersPictures\\AlexandriaA.jpg")
            //.addEffect(new WonderEffectTemp(1, "SS", new ArrayList<>(Arrays.asList(EffectFactory.create("Culture", "3")))))
            .addEffect(new WonderEffect("3","SS"))
            .addEffect(new WonderEffect("ResourceProduction", "OO"))
            .addEffect(new WonderEffect("7", "GG"))),
    ALEXANDRIA_B(new WondersBuilder("Alexandria", EffectFactory.create("Good", "Glass"), "WondersPictures\\AlexandriaB.jpg")
            .addEffect(new WonderEffect("ResourceProduction", "ZZ"))
            .addEffect(new WonderEffect("GoodProduction", "WW"))
            .addEffect(new WonderEffect("7", "SSS"))),
    EPHESOS_A(new WondersBuilder("Ephesos", EffectFactory.create("Good", "Paper"), "WondersPictures\\EphesosA.jpg")
            .addEffect(new WonderEffect("3", "SS"))
            .addEffect(new WonderEffect("G9", "WW"))
            .addEffect(new WonderEffect("7", "PP"))),
    EPHESOS_B(new WondersBuilder("Ephesos", EffectFactory.create("Good", "Paper"), "WondersPictures\\EphesosB.jpg")
            .addEffect(new WonderEffect("2G4", "SS"))
            .addEffect(new WonderEffect("3G4", "WW"))
            .addEffect(new WonderEffect("5G4", "PCG"))),
    RHODOS_A(new WondersBuilder("Rhodos", EffectFactory.create("Resource", "Ore"), "WondersPictures\\RhodosA.jpg")
            .addEffect(new WonderEffect("3", "WW"))
            .addEffect(new WonderEffect("A2", "ZZZ"))
            .addEffect(new WonderEffect("7", "OOOO"))),
    RHODOS_B(new WondersBuilder("Rhodos", EffectFactory.create("Resource", "Ore"), "WondersPictures\\RhodosB.jpg")
            .addEffect(new WonderEffect("3A1G3", "SSS"))
            .addEffect(new WonderEffect("4A1G4", "OOOO"))),
    OLYMPIA_A(new WondersBuilder("Olympia", EffectFactory.create("Resource", "Wood"), "WondersPictures\\OlympiaA.jpg")
            .addEffect(new WonderEffect("3", "WW"))
            .addEffect(new WonderEffect("FreeBuild", "SS"))
            .addEffect(new WonderEffect("7", "OO"))),
    OLYMPIA_B(new WondersBuilder("Olympia", EffectFactory.create("Resource", "Wood"), "WondersPictures\\OlympiaB.jpg")
            .addEffect(new WonderEffect("ResourceTrade", "WW"))
            .addEffect(new WonderEffect("5", "SS"))
            .addEffect(new WonderEffect("CopyGuild", "COO"))),
    GIZA_A(new WondersBuilder("Giza", EffectFactory.create("Resource", "Stone"), "WondersPictures\\GizaA.jpg")
            .addEffect(new WonderEffect("3", "SS"))
            .addEffect(new WonderEffect("5", "WWW"))
            .addEffect(new WonderEffect("7", "SSSS"))),
    GIZA_B(new WondersBuilder("Giza", EffectFactory.create("Resource", "Stone"), "WondersPictures\\GizaB.jpg")
            .addEffect(new WonderEffect("3", "WW"))
            .addEffect(new WonderEffect("5", "SSS"))
            .addEffect(new WonderEffect("5", "ZZZ"))
            .addEffect(new WonderEffect("7", "CSSSS"))),
    HALICARNASSOS_A(new WondersBuilder("Halicarnassos", EffectFactory.create("Good", "Cloth"), "WondersPictures\\HalicarnassosA.jpg")
            .addEffect(new WonderEffect("3", "ZZ"))
            .addEffect(new WonderEffect("BuildFromGrave", "OOO"))
            .addEffect(new WonderEffect("7", "CC"))),
    HALICARNASSOS_B(new WondersBuilder("Halicarnassos", EffectFactory.create("Good", "Cloth"), "WondersPictures\\HalicarnassosB.jpg")
            .addEffect(new WonderEffect("2BuildFromGrave","OO"))
            .addEffect(new WonderEffect("1BuildFromGrave", "ZZZ"))
            .addEffect(new WonderEffect("BuildFromGrave", "GCP"))),
    BABYLON_A(new WondersBuilder("Babylon", EffectFactory.create("Resource", "Clay"), "WondersPictures\\BabylonA.jpg")
            .addEffect(new WonderEffect("3", "ZZ"))
            .addEffect(new WonderEffect("ChooseScienceSymbol", "WWW"))
            .addEffect(new WonderEffect("7", "ZZZZ"))),
    BABYLON_B(new WondersBuilder("Babylon", EffectFactory.create("Resource", "Clay"), "WondersPictures\\BabylonB.jpg")
            .addEffect(new WonderEffect("3", "CZ"))
            .addEffect(new WonderEffect("UseLastCard", "GWW"))
            .addEffect(new WonderEffect("ChooseScienceSymbol", "PZZZ")));

    private String name;
    private List<WonderEffect> effects;
    private Effect production;
    private String imagePath;

    public static void main(String[] args){
        //ArrayList<Effect> effectos=new ArrayList<>( new TradeEffect( "resource", "huj"));
        addWondersToArray();
    }


    private Wonders(WondersBuilder builder){
        this.name = builder.name;
        this.production = builder.production;
        this.imagePath = builder.imagePath;
        this.effects = builder.effects;
    }

    public String getName() {
        return this.name;
    }

    public Effect getProduction() {
        return this.production;
    }
    public String getImagePath(){ return this.imagePath;}

    public static ArrayList<ArrayList<Wonders>> addWondersToArray(){

        ArrayList<ArrayList<Wonders>> wonders = new ArrayList<>();

        ArrayList<Wonders> ephesosSides = new ArrayList<>(Arrays.asList(EPHESOS_A, EPHESOS_B));
        ArrayList<Wonders> alexandrySides = new ArrayList<>(Arrays.asList(ALEXANDRIA_A, ALEXANDRIA_B));
        ArrayList<Wonders> rhodosSides = new ArrayList<>(Arrays.asList(RHODOS_A, RHODOS_B));
        ArrayList<Wonders> babylonSides = new ArrayList<>(Arrays.asList(BABYLON_A, BABYLON_B));
        ArrayList<Wonders> gizaSides = new ArrayList<>(Arrays.asList(GIZA_A, GIZA_B));
        ArrayList<Wonders> halicarnassosSides = new ArrayList<>(Arrays.asList(HALICARNASSOS_A, HALICARNASSOS_B));
        ArrayList<Wonders> olympiaSides = new ArrayList<>(Arrays.asList(OLYMPIA_A, OLYMPIA_B));

        wonders.add(alexandrySides);
        wonders.add(ephesosSides);
        wonders.add(rhodosSides);
        wonders.add(babylonSides);
        wonders.add(gizaSides);
        wonders.add(halicarnassosSides);
        wonders.add(olympiaSides);

        return wonders;
    }
    public static ArrayList<ArrayList<Wonders>> shuffleWonders(ArrayList<ArrayList<Wonders>> wonders){
        for (int i = wonders.size() - 1; i > 0; i--) {
            int rand = (int) (Math.random() * (i + 1));
            ArrayList<Wonders> temp = wonders.get(i);
            wonders.set(i, wonders.get(rand));
            wonders.set(rand, temp);
        }
        return wonders;
    }
    public static ArrayList<Wonders> dealWonders(ArrayList<ArrayList<Wonders>> wonders){
        ArrayList<Wonders> wonder =wonders.get(0);
        wonders.remove(0);
        return wonder;
    }

    public static class WondersBuilder {
        private final String name;
        private final Effect production;
        private final String imagePath;
        private List<WonderEffect> effects = new ArrayList<>();
        private List<WonderEffectTemp> wonderEffectsTemp = new ArrayList<>();

        public WondersBuilder(String name, Effect production, String imagePath){
            this.name = name;
            this.production = production;
            this.imagePath=imagePath;
        }

        WondersBuilder addEffect(WonderEffect effect) {
            this.effects.add(effect);
            return this;
        }
        WondersBuilder addEffect(WonderEffectTemp effect) {
            this.wonderEffectsTemp.add(effect);
            return this;
        }

        WondersBuilder addEffects(WonderEffect... effect) {
            this.effects.addAll(effects);
            return this;
        }

        public List<WonderEffect> getEffects() {
            return effects;
        }
    }
}
